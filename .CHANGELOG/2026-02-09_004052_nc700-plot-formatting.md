# nc700 Event Study Formatting + from_label/to_label

**Timestamp:** 2026-02-09 00:40 ET

## What Changed

Updated both R and Stata dlm packages to use nc700 event study formatting, and added `from_label`/`to_label` arguments for custom caption date labels.

### Plot Formatting (nc700 style)

Old style (darkblue error bars, theme_bw):
- `geom_errorbar` with `color = "darkblue"`
- `geom_line` / `geom_point` with `color = "darkblue"`
- `theme_bw()`

New style (gray ribbon, theme_minimal):
- `geom_ribbon(alpha = 0.3, fill = "gray30")` - shaded confidence band
- `geom_line(color = "gray20", linewidth = 0.8)` - dark gray line
- `geom_point(color = "gray20", size = 1.5)` - dark gray points
- `geom_hline(yintercept = 0, lty = 2, color = "gray50")` - medium gray zero line
- `geom_vline(xintercept = ref+0.5, lty = 2, color = "red")` - red reference line
- `theme_minimal(base_size = 10)` with `aspect.ratio = 0.6`

### New Arguments

- R: `from_label` and `to_label` parameters on both `distributed_lags_model()` and `distributed_lags_models()`
- Stata: `from_label()` and `to_label()` options on new `dlm_plot` command
- Default to raw time values if not specified

### New File

- `stata/dlm_plot.ado` - Publication-quality event study plotting command for Stata (uses `rarea` ribbon, gray palette, red vline)

## Files Affected

- `r/R/dlm-functions.R` - Updated both function signatures and plot code
- `stata/dlm_plot.ado` - NEW: Stata plotting command
- `stata/vignette_dlm.do` - Updated to use `dlm_plot`
- `stata/test_docs_examples.do` - Updated to use `dlm_plot`
- `docs/r/api.md` - Added from_label/to_label docs
- `docs/r/guide.md` - Updated plot customization examples
- `docs/stata/api.md` - Added dlm_plot docs
- `docs/stata/guide.md` - Updated plotting section
- `docs/getting-started/quickstart.md` - Updated Stata plotting code
- `docs/getting-started/worked-example.md` - Updated both R and Stata plot code
